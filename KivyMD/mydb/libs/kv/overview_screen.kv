#: import gch kivy.utils.get_color_from_hex
#: import randColor libs.common.randColor
#: import grc kivy.utils.get_random_color
#: import MySearchBox libs.baseclass.root_screen.MySearchBox
#: import MySeeAllButton libs.baseclass.root_screen.MySeeAllButton
#: import MyScreenManager libs.baseclass.root_screen.MyScreenManager
<MyOverviewScreen>
    id : overview
    FloatLayout:

        ScrollView:

            MDList:
                id : box_list
                spacing: dp(5)

                AlertBox:
                    

                MyOverviewBox:
                    id:accounts
                    title: "Accounts"
                    money: "$ 12,134.49"
                    text: ["Current", "Home savings"]
                    secondary_text: ["••••••1234", "••••••5678"]
                    tertiary_text: ["$ 2,215.13", "$ 8,678.88"]
                    bar_color: [gch("#1EB980"), gch("#1EB980")]

                    
                MyOverviewBox:
                    id:budgets
                    title: "Backup"
                    money: "Do some, won't hurt"
                    MDBoxLayout:
                        canvas.before:
                            Color:
                                rgba: gch("#2E83F2")
                            Rectangle:
                                size: self.size
                                pos: self.pos
                        adaptive_height: True
                        orientation: 'vertical'
                        MDTextField :
                            id : dest
                            name : 'Directory path'
                            hint_text : "Directory path"
                            multiline : False
                        MDTextField :
                            id : pw
                            icon_right : "eye-off"
                            hint_text: "Password"
                            name : 'Password'
                            color_active:app.theme_cls.primary_dark
                            password: True
                            password_mask: "•"
                            multiline : False
                    MDBoxLayout:
                        padding: dp(20)
                        orientation: 'vertical'
                        adaptive_height: True
                        spacing : dp(5)
                        canvas.before:
                            Color:
                                rgba: gch("#FFFFFF")
                            Rectangle:
                                size: self.size
                                pos: self.pos         
                        MySeeAllButton:
                            id : save
                            icon : 'cloud-upload'
                            font_size: dp(84) 
                            on_release:
                                overview.dumpDB(dest.text, pw.text)
                                pw.text = ''
                        MyLabel:
                            halign: "center"
                            font_style: "Button"
                            text : "save"  
                        MySeeAllButton:
                            id : load
                            icon : 'cloud-download'
                            font_size: dp(84) 
                            on_release:
                                overview.loadDB(dest.text, pw.text)
                                pw.text = ''
                        MyLabel:
                            halign: "center"
                            font_style: "Button"
                            text : "load"                             
                MyOverviewBox:
                    id : transport
                    title: "Transport"
                    money: "0 Venezuelan Bolivars"
                    text: ["Coffee shops", "Groceries", "Restaurants"]
                    secondary_text: ["$ 45.69 / $ 70.00", "$ 16.45 / $ 170.00", "$ 45.69 / $ 70.00"]
                    tertiary_text: ["$ 24.51", "$ 153.55", "$ 46.75"]
                    bar_color: [gch("#BBDEFB"), gch("#BA68C8"), gch("#64B5F6")]
                    MDBoxLayout:
                        canvas.before:
                            Color:
                                rgba: gch("#FFFFFF")
                            Rectangle:
                                size: self.size
                                pos: self.pos
                        adaptive_height: True
                        orientation: 'horizontal'
                        MySearchBoxUgly :
                            id : typ
                            name : 'type'
                            multiline : True
                        MySearchBoxUgly :
                            id : t_plc
                            name : 'place'
                            multiline : True
                        MySearchBoxUgly :
                            id : pric
                            name : 'price'
                            multiline : True
                    MDBoxLayout:
                        canvas.before:
                            Color:
                                rgba: gch("#FFFFFF")
                            Rectangle:
                                size: self.size
                                pos: self.pos
                        adaptive_height: True
                        orientation: 'horizontal'
                        MySearchBox :
                            id : plc
                            name : 'place'
                            multiline : False
                        MySearchBox :
                            id : plc_adrr
                            name : 'address'
                            multiline : False
                    MDBoxLayout:
                        padding: dp(20)
                        orientation: 'vertical'
                        adaptive_height: True
                        canvas.before:
                            Color:
                                rgba: gch("#FFFFFF")
                            Rectangle:
                                size: self.size
                                pos: self.pos         
                        MySeeAllButton:
                            id : see_all_button_food
                            icon : 'car-limousine'
                            on_release:
                                #root.app.insertDataTransport(typ.ids.txtfield.text, plc.ids.txtfield.text, pric.ids.txtfield.text, plc.ids.txtfield.text, plc_adrr.ids.txtfield.text)
                                root.updateMoneyTransport()
                                typ.ids.txtfield.text = ''
                                t_plc.ids.txtfield.text = ''
                                pric.ids.txtfield.text = '' 
                                plc.ids.txtfield.text = ''
                                plc_adrr.ids.txtfield.text = ''
                                #overview.parent.root.parent
                                #overview.current : "FOOD"
                            MyLabel:
                                halign: "center"
                                font_style: "Button"
                MyOverviewBox:
                    id : health
                    title: "Health"
                    money: "0 Venezuelan Bolivars"
                    text: ["Coffee shops", "Groceries", "Restaurants"]
                    secondary_text: ["$ 45.69 / $ 70.00", "$ 16.45 / $ 170.00", "$ 45.69 / $ 70.00"]
                    tertiary_text: ["$ 24.51", "$ 153.55", "$ 46.75"]
                    bar_color: [gch("#BBDEFB"), gch("#BA68C8"), gch("#64B5F6")]
                    MDBoxLayout:
                        canvas.before:
                            Color:
                                rgba: gch("#FFFFFF")
                            Rectangle:
                                size: self.size
                                pos: self.pos
                        adaptive_height: True
                        orientation: 'horizontal'
                        MySearchBoxUgly :
                            id : h_nam
                            name : 'name'
                            multiline : True
                        MySearchBoxUgly :
                            id : h_typ
                            name : 'type'
                            multiline : True
                        MySearchBoxUgly :
                            id : h_pric
                            name : 'price'
                            multiline : True
                    MDBoxLayout:
                        canvas.before:
                            Color:
                                rgba: gch("#FFFFFF")
                            Rectangle:
                                size: self.size
                                pos: self.pos
                        adaptive_height: True
                        orientation: 'horizontal'
                        MySearchBox :
                            id : h_plc
                            name : 'place'
                            multiline : False
                        MySearchBox :
                            id : h_plc_adrr
                            name : 'address'
                            multiline : False
                    MDBoxLayout:
                        padding: dp(20)
                        orientation: 'vertical'
                        adaptive_height: True
                        canvas.before:
                            Color:
                                rgba: gch("#FFFFFF")
                            Rectangle:
                                size: self.size
                                pos: self.pos         
                        MySeeAllButton:
                            id : see_all_button_food
                            icon : 'flask-round-bottom'
                            on_release:
                                #root.ids.money.text = root.app.insertDataHealth(h_nam.ids.txtfield.text, h_typ.ids.txtfield.text, h_pric.ids.txtfield.text, h_plc.ids.txtfield.text, h_plc_adrr.ids.txtfield.text)
                                root.updateMoneyHealth()
                                h_nam.ids.txtfield.text = ''
                                h_typ.ids.txtfield.text = ''
                                h_pric.ids.txtfield.text = '' 
                                h_plc.ids.txtfield.text = ''
                                h_plc_adrr.ids.txtfield.text = ''
                                #overview.parent.root.parent
                                #overview.current : "FOOD"
                            MyLabel:
                                halign: "center"
                                font_style: "Button"
                MyOverviewBox:
                    id : stuff
                    title: "Stuff"
                    money: "0 Venezuelan Bolivars"
                    text: ["Coffee shops", "Groceries", "Restaurants"]
                    secondary_text: ["$ 45.69 / $ 70.00", "$ 16.45 / $ 170.00", "$ 45.69 / $ 70.00"]
                    tertiary_text: ["$ 24.51", "$ 153.55", "$ 46.75"]
                    bar_color: [gch("#BBDEFB"), gch("#BA68C8"), gch("#64B5F6")]
                    MDBoxLayout:
                        canvas.before:
                            Color:
                                rgba: gch("#FFFFFF")
                            Rectangle:
                                size: self.size
                                pos: self.pos
                        adaptive_height: True
                        orientation: 'horizontal'
                        MySearchBoxUgly :
                            id : s_nam
                            name : 'name'
                            multiline : True
                        MySearchBoxUgly :
                            id : s_quant
                            name : 'owned'
                            multiline : True
                        MySearchBoxUgly :
                            id : s_unit
                            name : 'unit'

                        MySearchBoxUgly :
                            id : s_needed
                            name : 'needed'
                            multiline : True
                        MySearchBoxUgly :
                            id : s_pric
                            name : 'price'
                            multiline : True
                    MDBoxLayout:
                        canvas.before:
                            Color:
                                rgba: gch("#FFFFFF")
                            Rectangle:
                                size: self.size
                                pos: self.pos
                        adaptive_height: True
                        orientation: 'horizontal'
                        MySearchBox :
                            id : s_plc
                            name : 'place'
                            multiline : False
                        MySearchBox :
                            id : s_plc_adrr
                            name : 'address'
                            multiline : False
                    MDBoxLayout:
                        padding: dp(20)
                        orientation: 'vertical'
                        adaptive_height: True
                        canvas.before:
                            Color:
                                rgba: gch("#FFFFFF")
                            Rectangle:
                                size: self.size
                                pos: self.pos         
                        MySeeAllButton:
                            id : see_all_button_stuff
                            icon : 'creation'
                            on_release:
                                #root.app.insertDataStuff(s_nam.ids.txtfield.text, s_quant.ids.txtfield.text, s_unit.ids.txtfield.text, s_needed.ids.txtfield.text, s_pric.ids.txtfield.text, s_plc.ids.txtfield.text, s_plc_adrr.ids.txtfield.text)
                                root.updateMoneyStuff()
                                s_nam.ids.txtfield.text = ''
                                s_quant.ids.txtfield.text = ''
                                s_unit.ids.txtfield.text = '' 
                                s_needed.ids.txtfield.text = ''
                                s_pric.ids.txtfield.text = '' 
                                s_plc.ids.txtfield.text = ''
                                s_plc_adrr.ids.txtfield.text = ''
                            MyLabel:
                                halign: "center"
                                font_style: "Button"
                MyOverviewBox:
                    id : food
                    title: "Food"
                    money: "0 Venezuelan Bolivars"
                    text: ["h","e","y"]
                    secondary_text: ["h","e","y"]
                    tertiary_text: ["h","e","y"]
                    bar_color: [grc(), grc(), grc()]
                    MDBoxLayout:
                        canvas.before:
                            Color:
                                rgba: gch("#FFFFFF")
                            Rectangle:
                                size: self.size
                                pos: self.pos
                        adaptive_height: True
                        orientation: 'horizontal'
                        MySearchBoxUgly :
                            id : f_nam
                            name : 'name'
                            multiline : True
                        MySearchBoxUgly :
                            id : f_quant
                            name : 'owned'
                            multiline : True
                        MySearchBoxUgly :
                            id : f_unit
                            name : 'unit'

                        MySearchBoxUgly :
                            id : f_needed
                            name : 'needed'
                            multiline : True
                        MySearchBoxUgly :
                            id : f_pric
                            name : 'price'
                            multiline : True
                    MDBoxLayout:
                        canvas.before:
                            Color:
                                rgba: gch("#FFFFFF")
                            Rectangle:
                                size: self.size
                                pos: self.pos
                        adaptive_height: True
                        orientation: 'horizontal'
                        MySearchBox :
                            id : f_plc
                            name : 'place'
                            multiline : False
                        MySearchBox :
                            id : f_plc_adrr
                            name : 'address'
                            multiline : False
                    MDBoxLayout:
                        padding: dp(20)
                        orientation: 'vertical'
                        adaptive_height: True
                        canvas.before:
                            Color:
                                rgba: gch("#FFFFFF")
                            Rectangle:
                                size: self.size
                                pos: self.pos         
                        MySeeAllButton:
                            id : see_all_button_food
                            icon : 'carrot'
                            on_release:
                                #root.app.insertDataFood(f_nam.ids.txtfield.text, f_quant.ids.txtfield.text, f_unit.ids.txtfield.text, f_needed.ids.txtfield.text, f_pric.ids.txtfield.text, f_plc.ids.txtfield.text, f_plc_adrr.ids.txtfield.text)
                                root.updateMoneyFood()
                                f_nam.ids.txtfield.text = ''
                                f_quant.ids.txtfield.text = ''
                                f_unit.ids.txtfield.text = '' 
                                f_needed.ids.txtfield.text = ''
                                f_pric.ids.txtfield.text = '' 
                                f_plc.ids.txtfield.text = ''
                                f_plc_adrr.ids.txtfield.text = ''
                                #overview.parent.root.parent
                                #overview.current : "FOOD"
                            MyLabel:
                                halign: "center"
                                font_style: "Button"
                    
        MyFloatingButton:
            data:app.data
            right_pad : True
            



<MyOverviewBox>
    adaptive_height: True
    orientation: 'vertical'
    id : overview
    canvas.before:
        Color:
            rgba: gch("#2E83F2")
        Rectangle:
            size: self.size
            pos: self.pos

    MDBoxLayout:
        padding: dp(10)
        orientation: 'vertical'
        adaptive_height: True

        MyLabel:
            text: root.title
            font_style: "Caption"
            font_size:dp(35)
            color: gch("#FFFFFF")

        MyLabel:
            text: root.money
            font_style: "Overline"
            font_size:dp(25)
            color: gch("#FFFFFF")






<AlertBox@MDBoxLayout>
    adaptive_height: True
    padding: dp(10)
	padding_x: self.width/2
    canvas.before:
        Color:
            rgba: gch("#F2CB05")
        Rectangle:
            size: self.size
            pos: self.pos

    MyLabel:
        text: "Alert!\nBeware: you've used up 90% of your shopping budget for this month."
        font_style: "Button"
		valign:'center'
        halign: "center"
        center: root.center
        color: gch("#0E1259")


<MyList@MDList>
	canvas.before:
        Color:
            rgba: gch("#FFFFFF")
        Rectangle:
            size: self.size
            pos: self.pos

<MySeeAllButton>
    icon:"pencil"
    type:"small"
    md_bg_color:gch(app.buttons["small"]["md_bg_color"])
    icon_color:gch(app.buttons["small"]["text_color"])
	pos_hint: {"center_x": 0.5, "center_y": 0.5}
    anchor_x: 'center'
    anchor_y: 'center'

<MyFloatingButton>
    icon: "plus"
    #md_bg_color: app.theme_cls.primary_dark
    color: gch("#F2CB05")

    opposite_colors: True
    root_button_anim: True
    rotation_root_button: True
    #hint_animation: True
    right_pad:False
    callback: app.callback
        